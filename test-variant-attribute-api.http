### Variant Attribute API Testing
### Base URL: http://localhost:8080/api/variant-attributes
### Authentication: ADMIN role required

### 1. Login as Admin to get JWT token
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "admin123"
}

### 2. Get all variant attributes (with pagination)
GET http://localhost:8080/api/variant-attributes?page=0&size=10
Authorization: Bearer YOUR_JWT_TOKEN_HERE

### 3. Search variant attributes by name
GET http://localhost:8080/api/variant-attributes?search=color&page=0&size=10
Authorization: Bearer YOUR_JWT_TOKEN_HERE

### 4. Filter variant attributes by status
GET http://localhost:8080/api/variant-attributes?status=active&page=0&size=10
Authorization: Bearer YOUR_JWT_TOKEN_HERE

### 5. Search and filter combined
GET http://localhost:8080/api/variant-attributes?search=size&status=active&page=0&size=10
Authorization: Bearer YOUR_JWT_TOKEN_HERE

### 6. Sort variant attributes (ascending by name)
GET http://localhost:8080/api/variant-attributes?sortBy=name&sortDir=asc&page=0&size=10
Authorization: Bearer YOUR_JWT_TOKEN_HERE

### 7. Create a new variant attribute (Color)
POST http://localhost:8080/api/variant-attributes
Content-Type: application/json
Authorization: Bearer YOUR_JWT_TOKEN_HERE

{
  "name": "Color",
  "values": ["Red", "Blue", "Green", "Yellow", "Black", "White"],
  "imageUrl": "https://example.com/images/color.png"
}

### 8. Create a new variant attribute (Size)
POST http://localhost:8080/api/variant-attributes
Content-Type: application/json
Authorization: Bearer YOUR_JWT_TOKEN_HERE

{
  "name": "Size",
  "values": ["XS", "S", "M", "L", "XL", "XXL"],
  "imageUrl": "https://example.com/images/size.png"
}

### 9. Create a new variant attribute (Material)
POST http://localhost:8080/api/variant-attributes
Content-Type: application/json
Authorization: Bearer YOUR_JWT_TOKEN_HERE

{
  "name": "Material",
  "values": ["Cotton", "Polyester", "Silk", "Wool", "Leather"],
  "imageUrl": "https://example.com/images/material.png"
}

### 10. Update variant attribute (replace 1 with actual ID)
PUT http://localhost:8080/api/variant-attributes/1
Content-Type: application/json
Authorization: Bearer YOUR_JWT_TOKEN_HERE

{
  "name": "Color Updated",
  "values": ["Red", "Blue", "Green", "Yellow", "Black", "White", "Gray"],
  "imageUrl": "https://example.com/images/color-updated.png",
  "status": "active"
}

### 11. Update variant attribute - partial update (only name)
PUT http://localhost:8080/api/variant-attributes/1
Content-Type: application/json
Authorization: Bearer YOUR_JWT_TOKEN_HERE

{
  "name": "Product Color"
}

### 12. Update variant attribute - change status to inactive
PUT http://localhost:8080/api/variant-attributes/1
Content-Type: application/json
Authorization: Bearer YOUR_JWT_TOKEN_HERE

{
  "status": "inactive"
}

### 13. Delete variant attribute (soft delete - replace 1 with actual ID)
DELETE http://localhost:8080/api/variant-attributes/1
Authorization: Bearer YOUR_JWT_TOKEN_HERE

### 14. Try to get deleted variant attribute (should not appear in results)
GET http://localhost:8080/api/variant-attributes?page=0&size=10
Authorization: Bearer YOUR_JWT_TOKEN_HERE

### 15. Create variant attribute without values (optional field)
POST http://localhost:8080/api/variant-attributes
Content-Type: application/json
Authorization: Bearer YOUR_JWT_TOKEN_HERE

{
  "name": "Style",
  "imageUrl": "https://example.com/images/style.png"
}

### 16. Create variant attribute - minimal (only required field)
POST http://localhost:8080/api/variant-attributes
Content-Type: application/json
Authorization: Bearer YOUR_JWT_TOKEN_HERE

{
  "name": "Pattern"
}

### 17. Test validation - empty name (should fail)
POST http://localhost:8080/api/variant-attributes
Content-Type: application/json
Authorization: Bearer YOUR_JWT_TOKEN_HERE

{
  "name": "",
  "values": ["Test"]
}

### 18. Test validation - missing name (should fail)
POST http://localhost:8080/api/variant-attributes
Content-Type: application/json
Authorization: Bearer YOUR_JWT_TOKEN_HERE

{
  "values": ["Test"]
}

### 19. Test unauthorized access (without token - should fail)
GET http://localhost:8080/api/variant-attributes

### 20. Test with non-admin user (should fail if user is not ADMIN)
# First login as a non-admin user, then try to access
GET http://localhost:8080/api/variant-attributes
Authorization: Bearer NON_ADMIN_JWT_TOKEN_HERE

